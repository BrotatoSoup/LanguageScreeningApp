<!DOCTYPE html>
<!--
    Copyright (c) 2012-2014 Adobe Systems Incorporated. All rights reserved.

    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
     KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.external-png-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.icons-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.inline-png-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.inline-svg-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.structure-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile.theme-1.4.5.css" />
        <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css" />
        <title>Main Menu</title>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="phonegap.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jquery-1.11.2.js"></script>
        <script type="text/javascript" src="js/jquery.mobile-1.4.5.js"></script>
        <script type="text/javascript"> 
        	//global variables
        	var quiz2 = [];
  			var numAlreadyPicked = [];
  			var gradingArray = [];
  			var gradingImgArray = [];
  			var correct = [];
  			var choice;
  			//used for going to the different questions
  			var questNum = 2;
  			//counter is used to iterate through grading arrays
  			var counter = 0;
  			var correctArrayCounter = 0;
        	
        	
        	function endOfCategorizingButton(){ window.location = './index.html' };
            
            
            //randomNum must be hard coded to a number as there is no way for JScript to count the number of pictures in a folder
            //setting a limit of 10 pictures
            //all picutures must not be related in any way (ex. knife and sword could both cut you---> not good)
            function makeImageArray(correctImg)
  			{
  				var i, j, randomNum;
  				quiz2[0] = categorizingFilePath + correctImg + '.png';
  				numAlreadyPicked[0] = correctImg;		
  				for(i = 1; i < quiz2.length; i++)
				{
					//pick random number
					randomNum = Math.floor(Math.random() * 10)
					//for loop used to iterate through number tracking array to find duplicates
					for(j = 0; j < numAlreadyPicked.length; j++)
					{
						if(randomNum == correctImg || randomNum == numAlreadyPicked[j])
						{
								randomNum = Math.floor(Math.random() * 10)
								j = 0;
						}
					}
					
					quiz2[i] = categorizingFilePath + randomNum + '.png';
					numAlreadyPicked[i] = randomNum;
				}
  				//sort array for random order
  				quiz2.sort();
  				numAlreadyPicked.sort();	
  			}
  			
  			
  			function displayImageArray(questNum, num)
  			{
  				document.write("<ul>")
  				for(u = 0; u < quiz2.length; u++)
  				{
  					document.write("<li id='potentialChoices"+u+"' value ='" + numAlreadyPicked[u] +"'><a href='#categorizingQ" + questNum + "'><img src='" + quiz2[u] + "' width='150' height='100' class='imgSpacing' onclick='gradeQuestion("+ numAlreadyPicked[u] +")'/></a></li>");
  				}				
  				document.write("</ul>")
  			}
  			
  			
  			function gradeQuestion(imgVal)
		  	{
		  		if(imgVal == correct[counter])
		  		{
		  			gradingArray[counter] = "Correct";
		  			gradingImgArray[counter] = categorizingFilePath + imgVal + '.png';		  				
		  		}
		  		else
		  		{
		  			gradingArray[counter] = "Incorrect";
		  			gradingImgArray[counter] = categorizingFilePath + imgVal + '.png';
		  		}
		  		counter++;
		  		//at the end of test
  				if (counter > 4)
		  		{
		  			//create a text file with grades 
		  			//store text file to a folder to be ready to be emailed
		  			
		  			//just to show grading works, print the grades (refresh to end the section)
		  			printGrades();
		  			//endOfcategorizingButton();
		  		}
		  	}
  			
  			  			
  			function setCorrectArray(num)
  			{
  				correct[correctArrayCounter] = num;
  				correctArrayCounter++;
  			}
  			
  			
  			function printGrades()	
  			{
  				var z, y;
  				document.write("Scores: <br>");
  				for(z = 0; z < gradingArray.length; z++)
	  			{
	  				document.write("Question " + (z+1) + ": " + gradingArray[z] + "<br>");
	  			}
	  			document.write("<br>grading image array content: <br>");
	  			for(y = 0; y < gradingImgArray.length; y++)
	  			{	
	  				document.write("Question " + (y+1) + " image selected: " + "<img src='" + gradingImgArray[y] + "' width='150' height='100' class='imgSpacing'/> <br>");
	  			}
	  			
  			}
  			
        </script>

<body>
	<div data-role="page" align="center" id="testOptions">
  	<div data-role="content">
  		<div data-role="fieldcontain">
  			<label>Choose how many images to choose from:</label>
	  		<select id="imgDisplaySize" onchange="location.reload()">
	  			<option value="3">3</option>
	  			<option value="4">4</option>
	  			<option value="5">5</option>
	  			</select>
	  		
  		</div>
  		
  		<div data-role="fieldcontain">
  			<label>Choose realistic or symbolic pictures to display:</label>
  			<select id="typeOfImg" onchange="location.reload()">
  				<option value="realistic">Realistic</option>
  				<option value="symbols">Symbols</option>
  			</select>
  		</div>
  		
  		<a href="#categorizingQ1" data-role="button">Start</a>
  		<script>
  			//get number of images to display and which type of pictures
  			var numImgDisplay = document.getElementById("imgDisplaySize");
  			var realOrSymbol = document.getElementById("typeOfImg");
  			
  			//set lengths for arrays
  			quiz2.length = numImgDisplay.options[numImgDisplay.selectedIndex].value;
  			numAlreadyPicked.length = numImgDisplay.options[numImgDisplay.selectedIndex].value;
  			
  			//get value for symbols or realistic images
  			choice = realOrSymbol.options[realOrSymbol.selectedIndex].value;
 		
  			//grading arrays lengths set to 10 to match amount of questions
  			gradingArray.length = 5;
  			gradingImgArray.length = 5;
  			correct.length = 5;
  			
  			//set filepath used for pictures
  			var categorizingFilePath = 'img/testImages/categorizingTestImg/' + choice + '/';
  		</script>
  	</div>
  	
  </div>
	
	
	
  <div data-role="page" align="center" id="categorizingQ1">
  	<div data-role="header">
  		<h1 style="font-size: 20px">Point to the food</h1>
  	</div>
  		<div data-role="content">	
			<script>
	  			//send number for right image
	  			var q1Img = 4;
	  			setCorrectArray(q1Img);
	  			makeImageArray(q1Img);
	  			displayImageArray(questNum, q1Img);
	  			questNum++;
  			</script>  	
  		</div>
  	<div data-role="footer">
  	</div>
  
  </div>
  
  
  <div data-role="page" align="center" id="categorizingQ2">
  	<div data-role="header">
  		<h1 style="font-size: 20px">Point to the animal</h1>
  	</div>
  	<div data-role="content">	
  		<script>
	  			//send number for right image
	  			var q2Img = 6;
	  			setCorrectArray(q2Img);
	  			makeImageArray(q2Img);
	  			displayImageArray(questNum, q2Img);
	  			questNum++;
  			</script>  
  	</div>
  	<div data-role="footer">
  	</div>
  
  </div>
  
  
  <div data-role="page" align="center" id="categorizingQ3">
  	<div data-role="header">
  		<h1 style="font-size: 20px">Point to the color</h1>
  	</div>
  	<div data-role="content">	
  		<script>
	  			//send number for right image
	  			var q3Img = 1;
	  			setCorrectArray(q3Img);
	  			makeImageArray(q3Img);
	  			displayImageArray(questNum, q3Img);
	  			questNum++;
  			</script>  
  	</div>
  	<div data-role="footer">
  	</div>
  
  </div>
  
  
  <div data-role="page" align="center" id="categorizingQ4">
  	<div data-role="header">
  		<h1 style="font-size: 20px">Point to the number</h1>
  	</div>
  	<div data-role="content">	
  		<script>
	  			//send number for right image
	  			var q4Img = 2;
	  			setCorrectArray(q4Img);
	  			makeImageArray(q4Img);
	  			displayImageArray(questNum, q4Img);
	  			questNum++;
  			</script>  
  	</div>
  	<div data-role="footer">
  	</div>
  
  </div>
  
  
  <div data-role="page" align="center" id="categorizingQ5">
  	<div data-role="header">
  		<h1 style="font-size: 20px">Point to the toy</h1>
  	</div>
  	<div data-role="content">	
  		<script>
	  			//send number for right image
	  			var q5Img = 5;
	  			setCorrectArray(q5Img);
	  			makeImageArray(q5Img);
	  			displayImageArray(questNum, q5Img);
	  			questNum++;
  			</script>  
  	</div>
  	<div data-role="footer">
  	</div>
  
  </div>
  
  
  <div data-role="page" align="center" id="categorizingQ6">
  	<div data-role="header">
  		<h1 style="font-size: 20px">Results of the Test</h1>
  	</div>
  	<div data-role="content">
  		<div id="gradedResults">
  			<script>
  			
  			</script>
  			
  	</div>
  	</div>
  	<div data-role="footer">
		<button onclick="endOfCategorizingButton();">((End of Section))</button>  	
	</div>
  </div>
</body>
</html>
